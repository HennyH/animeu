{% extends "base.html" %}
{% from "carousel.html" import carousel with context %}
{% block body %}
    <div class="feed">
        {% for battle in battles %}
            <div class="summary">
                {% set winner_en_name = battle["winner"]["names"]["en"][0] %}
                {% set winner_jp_name = battle["winner"]["names"]["jp"][0] %}
                {% set winner_gallery_urls = battle["winner"]["pictures"]["gallery"] %}
                {% set loser_en_name = battle["loser"]["names"]["en"][0] %}
                {% set loser_jp_name = battle["loser"]["names"]["jp"][0] %}
                {% set loser_gallery_urls = battle["loser"]["pictures"]["gallery"] %}
                <div class="picture-carousel">
                    {{ carousel("winner_carousel", winner_gallery_urls) }}
                </div>
                <div class="info winner-info">
                    <i class="fas fa-church"></i>
                    <span class="winner-message">Waifu</span>
                    <span>{{ winner_en_name }}</span>
                    <span class="japanese">{{ winner_jp_name }}</span>
                </div>
                <span class="vs">v.s</span>
                <div class="info loser-info">
                    <i class="fas fa-heart-broken"></i>
                    <span class="loser-message">Rejected</span>
                    <span>{{ loser_en_name }}</span>
                    <span class="japanese">{{ loser_jp_name }}</span>
                </div>
                <div class="picture-carousel">
                    {{ carousel("loser_carousel", loser_gallery_urls) }}
                </div>
            </div>
        {% endfor %}
    </div>

    <style>
        .feed {
            display: grid;
            grid-template-columns: 1fr;
        }

        .summary {
            width: max-content;
            justify-self: center;
            display: grid;
            grid-template-columns: max-content 1fr 10ch 1fr max-content;
            background-color: rgba(0, 0, 0, 0.01);
            border: 1px solid rgba(0, 0, 0, 0.125);
            border-radius: 5px;
            padding: 1em;
            margin: 1em;
            width: calc(100% - 2em);
        }

        .vs {
            align-self: center;
            justify-self: center;
            font-weight: 600;
            font-size: 1.5em;
            font-style: oblique;
        }

        .info {
            display: grid;
            justify-self: center;
            align-self: center;
            grid-template-rows: min-content max-content max-content 1fr;
            justify-content: center;
            align-content: center;
        }

        .info i {
            font-size: 2em;
            align-self: center;
            justify-self: center;
            padding: 0.5em 0.5em 0;
        }

        .winner-message, .loser-message {
            justify-self: center;
            font-style: oblique;
            padding-bottom: 1em;
        }

        .waifu-banner {
            justify-self: center;
            align-self: center;
        }

    </style>
{% endblock body %}

